{ "time": "2019-11-16 21:49:53.4406", "level": "DEBUG", "logger": "EventStoreLearning.Appointment.CommandApi.Program", "message": "init main", "properties": {  } }
{ "time": "2019-11-16 21:50:02.1794", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https:\/\/localhost:5001", "properties": { "address": "https:\/\/localhost:5001" } }
{ "time": "2019-11-16 21:50:02.1928", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down.", "properties": {  } }
{ "time": "2019-11-16 21:50:02.1959", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "properties": { "envName": "Development" } }
{ "time": "2019-11-16 21:50:02.1988", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: \/Users\/matholum\/Repos\/EventStoreLearning2\/apps\/appointment\/EventStoreLearning.Appointment.CommandApi", "properties": { "contentRoot": "\/Users\/matholum\/Repos\/EventStoreLearning2\/apps\/appointment\/EventStoreLearning.Appointment.CommandApi" } }
{ "time": "2019-11-16 21:50:02.3504", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:02.5534", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 204.69410000000002ms 301 ", "properties": { "ElapsedMilliseconds": 204.69410000000002, "StatusCode": 301, "ContentType": null, "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:02.6412", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/index.html  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/index.html", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:02.8150", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 173.2939ms 200 text\/html;charset=utf-8", "properties": { "ElapsedMilliseconds": 173.2939, "StatusCode": 200, "ContentType": "text\/html;charset=utf-8", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:04.0425", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/index.html  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/index.html", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:04.0509", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 8.3217ms 200 text\/html;charset=utf-8", "properties": { "ElapsedMilliseconds": 8.3217, "StatusCode": 200, "ContentType": "text\/html;charset=utf-8", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:04.2948", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/swagger-ui.css  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/swagger-ui.css", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:04.3010", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/swagger-ui-bundle.js  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/swagger-ui-bundle.js", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:04.3305", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/swagger-ui-standalone-preset.js  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/swagger-ui-standalone-preset.js", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:04.4572", "level": "INFO", "logger": "Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware", "message": "Sending file. Request path: '\/swagger-ui.css'. Physical path: 'N\/A'", "properties": { "VirtualPath": "\/swagger-ui.css", "PhysicalPath": "N\/A", "EventId_Id": 2, "EventId_Name": "FileServed", "EventId": {"Id":2, "Name":"FileServed"} } }
{ "time": "2019-11-16 21:50:04.4572", "level": "INFO", "logger": "Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware", "message": "Sending file. Request path: '\/swagger-ui-standalone-preset.js'. Physical path: 'N\/A'", "properties": { "VirtualPath": "\/swagger-ui-standalone-preset.js", "PhysicalPath": "N\/A", "EventId_Id": 2, "EventId_Name": "FileServed", "EventId": {"Id":2, "Name":"FileServed"} } }
{ "time": "2019-11-16 21:50:04.4624", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 171.88250000000002ms 200 text\/css", "properties": { "ElapsedMilliseconds": 171.88250000000002, "StatusCode": 200, "ContentType": "text\/css", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:04.4851", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 134.46800000000002ms 200 application\/javascript", "properties": { "ElapsedMilliseconds": 134.46800000000002, "StatusCode": 200, "ContentType": "application\/javascript", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:04.6345", "level": "INFO", "logger": "Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware", "message": "Sending file. Request path: '\/swagger-ui-bundle.js'. Physical path: 'N\/A'", "properties": { "VirtualPath": "\/swagger-ui-bundle.js", "PhysicalPath": "N\/A", "EventId_Id": 2, "EventId_Name": "FileServed", "EventId": {"Id":2, "Name":"FileServed"} } }
{ "time": "2019-11-16 21:50:04.6378", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 348.8895ms 200 application\/javascript", "properties": { "ElapsedMilliseconds": 348.8895, "StatusCode": 200, "ContentType": "application\/javascript", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:04.8161", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 GET https:\/\/localhost:5001\/swagger\/v1\/swagger.json  ", "properties": { "Protocol": "HTTP\/1.1", "Method": "GET", "ContentType": null, "ContentLength": null, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/swagger\/v1\/swagger.json", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:04.9569", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 141.7158ms 200 application\/json;charset=utf-8", "properties": { "ElapsedMilliseconds": 141.7158, "StatusCode": 200, "ContentType": "application\/json;charset=utf-8", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
{ "time": "2019-11-16 21:50:30.3229", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request starting HTTP\/1.1 POST https:\/\/localhost:5001\/v1\/Appointment application\/json 80", "properties": { "Protocol": "HTTP\/1.1", "Method": "POST", "ContentType": "application\/json", "ContentLength": 80, "Scheme": "https", "Host": "localhost:5001", "PathBase": "", "Path": "\/v1\/Appointment", "QueryString": "", "EventId_Id": 1, "EventId_Name": null, "EventId": {"Id":1} } }
{ "time": "2019-11-16 21:50:30.3328", "level": "INFO", "logger": "Microsoft.AspNetCore.Routing.EndpointMiddleware", "message": "Executing endpoint 'EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi)'", "properties": { "EndpointName": "EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi)", "EventId_Id": 0, "EventId_Name": "ExecutingEndpoint", "EventId": {"Id":0, "Name":"ExecutingEndpoint"} } }
{ "time": "2019-11-16 21:50:30.3856", "level": "INFO", "logger": "Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker", "message": "Route matched with {action = \"Post\", controller = \"Appointment\"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Post(EventStoreLearning.Appointment.CommandApi.Contract.CreateAppointmentRequest) on controller EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController (EventStoreLearning.Appointment.CommandApi).", "properties": { "RouteData": "{action = \"Post\", controller = \"Appointment\"}", "MethodInfo": "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Post(EventStoreLearning.Appointment.CommandApi.Contract.CreateAppointmentRequest)", "Controller": "EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController", "AssemblyName": "EventStoreLearning.Appointment.CommandApi", "EventId_Id": 3, "EventId_Name": "ControllerActionExecuting", "EventId": {"Id":3, "Name":"ControllerActionExecuting"} } }
{ "time": "2019-11-16 21:50:30.6733", "level": "DEBUG", "logger": "EventStoreLearning.Appointment.AppointmentCommandHandler", "message": "Handling command CreateAppointmentCommand for Aggregate Appointment", "properties": { "context": {"Id":"d7e28ca1-487e-42b9-8be6-02df5260f9cf", "Title":"Have fun", "StartTime":"2019-11-17T02:50:12.847Z", "Duration":"01:30:00"} } }
{ "time": "2019-11-16 21:50:30.6799", "level": "INFO", "logger": "EventStoreLearning.Common.EventSourcing.AggregateRoot", "message": "Applying event of type AppointmentCreatedEvent to Aggragate Appointment (00000000-0000-0000-0000-000000000000)", "properties": { "context": {"Title":"Have fun", "StartTime":"2019-11-17T02:50:12.847Z", "Duration":"01:30:00", "AggregateId":"d7e28ca1-487e-42b9-8be6-02df5260f9cf"} } }
{ "time": "2019-11-16 21:50:30.6807", "level": "DEBUG", "logger": "EventStoreLearning.Common.EventSourcing.AggregateRoot", "message": "Appending new event to uncommited changes for Aggragate Appointment (d7e28ca1-487e-42b9-8be6-02df5260f9cf)", "properties": { "context": {"Title":"Have fun", "StartTime":"2019-11-17T02:50:12.847Z", "Duration":"01:30:00", "AggregateId":"d7e28ca1-487e-42b9-8be6-02df5260f9cf"} } }
{ "time": "2019-11-16 21:50:30.6844", "level": "INFO", "logger": "EventStoreLearning.EventStore.EventRepository", "message": "Saving changes on Aggregate Appointment (d7e28ca1-487e-42b9-8be6-02df5260f9cf).", "properties": { "context": {"Id":"d7e28ca1-487e-42b9-8be6-02df5260f9cf", "Version":0} } }
{ "time": "2019-11-16 21:50:30.7855", "level": "DEBUG", "logger": "EventStoreLearning.EventStore.EventRepository", "message": "Writing changes for Aggregate Appointment (d7e28ca1-487e-42b9-8be6-02df5260f9cf) to the event store.", "properties": { "context": {"Id":"d7e28ca1-487e-42b9-8be6-02df5260f9cf", "Version":0} } }
{ "time": "2019-11-16 21:50:30.7865", "level": "DEBUG", "logger": "EventStoreLearning.Common.EventSourcing.AggregateRoot", "message": "Fetching uncommited changes for Aggragate Appointment (d7e28ca1-487e-42b9-8be6-02df5260f9cf)", "properties": { "context": [{"Title":"Have fun", "StartTime":"2019-11-17T02:50:12.847Z", "Duration":"01:30:00", "AggregateId":"d7e28ca1-487e-42b9-8be6-02df5260f9cf"}] } }
{ "time": "2019-11-16 21:50:31.3706", "level": "TRACE", "logger": "EventStoreLearning.EventStore.EventStoreClient", "message": "The event store connection was connected.", "properties": { "context": {"RemoteEndPoint":"127.0.0.1:1113", "Connection":"EventStore.ClientAPI.Internal.EventStoreNodeConnection"} } }
{ "time": "2019-11-16 21:50:31.8263", "level": "DEBUG", "logger": "EventStoreLearning.Common.EventSourcing.AggregateRoot", "message": "Marking changes as committed. Clearing uncommitted list for Aggragate Appointment (d7e28ca1-487e-42b9-8be6-02df5260f9cf)", "properties": {  } }
{ "time": "2019-11-16 21:50:31.8416", "level": "TRACE", "logger": "EventStoreLearning.EventStore.EventStoreClient", "message": "The event store connection was closed.", "properties": { "context": {"Reason":"Connection close requested by client.", "Connection":"EventStore.ClientAPI.Internal.EventStoreNodeConnection"} } }
{ "time": "2019-11-16 21:50:31.8447", "level": "INFO", "logger": "Microsoft.AspNetCore.Mvc.NewtonsoftJson.NewtonsoftJsonResultExecutor", "message": "Executing JsonResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.", "properties": { "Type": "<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]", "EventId_Id": 1, "EventId_Name": "JsonResultExecuting", "EventId": {"Id":1, "Name":"JsonResultExecuting"} } }
{ "time": "2019-11-16 21:50:31.8592", "level": "INFO", "logger": "Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker", "message": "Executed action EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi) in 1464.738ms", "properties": { "ActionName": "EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi)", "ElapsedMilliseconds": 1464.738, "EventId_Id": 2, "EventId_Name": "ActionExecuted", "EventId": {"Id":2, "Name":"ActionExecuted"} } }
{ "time": "2019-11-16 21:50:31.8625", "level": "INFO", "logger": "Microsoft.AspNetCore.Routing.EndpointMiddleware", "message": "Executed endpoint 'EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi)'", "properties": { "EndpointName": "EventStoreLearning.Appointment.CommandApi.Controllers.AppointmentController.Post (EventStoreLearning.Appointment.CommandApi)", "EventId_Id": 1, "EventId_Name": "ExecutedEndpoint", "EventId": {"Id":1, "Name":"ExecutedEndpoint"} } }
{ "time": "2019-11-16 21:50:31.8669", "level": "INFO", "logger": "Microsoft.AspNetCore.Hosting.Diagnostics", "message": "Request finished in 1544.1568ms 201 application\/json; charset=utf-8", "properties": { "ElapsedMilliseconds": 1544.1568, "StatusCode": 201, "ContentType": "application\/json; charset=utf-8", "EventId_Id": 2, "EventId_Name": null, "EventId": {"Id":2} } }
